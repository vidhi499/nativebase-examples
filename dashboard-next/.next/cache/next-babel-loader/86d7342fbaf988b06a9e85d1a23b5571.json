{"ast":null,"code":"\"use strict\";var _classCallCheck=require(\"@babel/runtime/helpers/classCallCheck\");var _assertThisInitialized=require(\"@babel/runtime/helpers/assertThisInitialized\");var _createClass=require(\"@babel/runtime/helpers/createClass\");var _inherits=require(\"@babel/runtime/helpers/inherits\");var _possibleConstructorReturn=require(\"@babel/runtime/helpers/possibleConstructorReturn\");var _getPrototypeOf=require(\"@babel/runtime/helpers/getPrototypeOf\");var _toConsumableArray=require(\"@babel/runtime/helpers/toConsumableArray\");function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}Object.defineProperty(exports,\"__esModule\",{value:true});var react_1=require(\"react\");var isServer=false;exports[\"default\"]=function(){var mountedInstances=new Set();var state;function emitChange(component){state=component.props.reduceComponentsToState(_toConsumableArray(mountedInstances),component.props);if(component.props.handleStateChange){component.props.handleStateChange(state);}}return function(_react_1$Component){_inherits(_class,_react_1$Component);var _super=_createSuper(_class);_createClass(_class,null,[{key:\"rewind\",value:function rewind(){var recordedState=state;state=undefined;mountedInstances.clear();return recordedState;}}]);function _class(props){var _this;_classCallCheck(this,_class);_this=_super.call(this,props);if(isServer){mountedInstances.add(_assertThisInitialized(_this));emitChange(_assertThisInitialized(_this));}return _this;}_createClass(_class,[{key:\"componentDidMount\",value:function componentDidMount(){mountedInstances.add(this);emitChange(this);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){emitChange(this);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){mountedInstances[\"delete\"](this);emitChange(this);}},{key:\"render\",value:function render(){return null;}}]);return _class;}(react_1.Component);};","map":{"version":3,"sources":["/Users/vidhi/Sites/Projects/examples/test/dashboard-next/node_modules/next/dist/next-server/lib/side-effect.js"],"names":["Object","defineProperty","exports","value","react_1","require","isServer","mountedInstances","Set","state","emitChange","component","props","reduceComponentsToState","handleStateChange","recordedState","undefined","clear","add","Component"],"mappings":"AAAA,a,wqCACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA+B,YAA/B,CAA6C,CAAEC,KAAK,CAAE,IAAT,CAA7C,EACA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAAC,OAAD,CAAvB,CACA,GAAMC,CAAAA,QAAQ,MAAd,CACAJ,OAAO,WAAP,CAAkB,UAAM,CACpB,GAAMK,CAAAA,gBAAgB,CAAG,GAAIC,CAAAA,GAAJ,EAAzB,CACA,GAAIC,CAAAA,KAAJ,CACA,QAASC,CAAAA,UAAT,CAAoBC,SAApB,CAA+B,CAC3BF,KAAK,CAAGE,SAAS,CAACC,KAAV,CAAgBC,uBAAhB,oBAA4CN,gBAA5C,EAA+DI,SAAS,CAACC,KAAzE,CAAR,CACA,GAAID,SAAS,CAACC,KAAV,CAAgBE,iBAApB,CAAuC,CACnCH,SAAS,CAACC,KAAV,CAAgBE,iBAAhB,CAAkCL,KAAlC,EACH,CACJ,CACD,wKAEoB,CACZ,GAAMM,CAAAA,aAAa,CAAGN,KAAtB,CACAA,KAAK,CAAGO,SAAR,CACAT,gBAAgB,CAACU,KAAjB,GACA,MAAOF,CAAAA,aAAP,CACH,CAPL,IAQI,gBAAYH,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EACA,GAAIN,QAAJ,CAAc,CACVC,gBAAgB,CAACW,GAAjB,gCACAR,UAAU,+BAAV,CACH,CALc,aAMlB,CAdL,gFAewB,CAChBH,gBAAgB,CAACW,GAAjB,CAAqB,IAArB,EACAR,UAAU,CAAC,IAAD,CAAV,CACH,CAlBL,+DAmByB,CACjBA,UAAU,CAAC,IAAD,CAAV,CACH,CArBL,mEAsB2B,CACnBH,gBAAgB,UAAhB,CAAwB,IAAxB,EACAG,UAAU,CAAC,IAAD,CAAV,CACH,CAzBL,uCA0Ba,CACL,MAAO,KAAP,CACH,CA5BL,oBAAqBN,OAAO,CAACe,SAA7B,EA8BH,CAvCD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst isServer = typeof window === 'undefined';\nexports.default = () => {\n    const mountedInstances = new Set();\n    let state;\n    function emitChange(component) {\n        state = component.props.reduceComponentsToState([...mountedInstances], component.props);\n        if (component.props.handleStateChange) {\n            component.props.handleStateChange(state);\n        }\n    }\n    return class extends react_1.Component {\n        // Used when server rendering\n        static rewind() {\n            const recordedState = state;\n            state = undefined;\n            mountedInstances.clear();\n            return recordedState;\n        }\n        constructor(props) {\n            super(props);\n            if (isServer) {\n                mountedInstances.add(this);\n                emitChange(this);\n            }\n        }\n        componentDidMount() {\n            mountedInstances.add(this);\n            emitChange(this);\n        }\n        componentDidUpdate() {\n            emitChange(this);\n        }\n        componentWillUnmount() {\n            mountedInstances.delete(this);\n            emitChange(this);\n        }\n        render() {\n            return null;\n        }\n    };\n};\n"]},"metadata":{},"sourceType":"script"}