{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\n\nvar _objectWithoutProperties = require(\"@babel/runtime/helpers/objectWithoutProperties\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Menu = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _View = _interopRequireDefault(require(\"../../primitives/View\"));\n\nvar _hooks = require(\"../../../hooks\");\n\nvar _core = require(\"../../../core\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar Menu = function Menu(_ref) {\n  var trigger = _ref.trigger,\n      _ref$closeOnSelect = _ref.closeOnSelect,\n      closeOnSelect = _ref$closeOnSelect === void 0 ? true : _ref$closeOnSelect,\n      children = _ref.children,\n      onOpen = _ref.onOpen,\n      onClose = _ref.onClose,\n      props = _objectWithoutProperties(_ref, [\"trigger\", \"closeOnSelect\", \"children\", \"onOpen\", \"onClose\"]);\n\n  var triggerRef = _react[\"default\"].useRef();\n\n  var newProps = (0, _hooks.usePropsConfig)('Menu', props);\n\n  var _react$default$useSta = _react[\"default\"].useState(false),\n      _react$default$useSta2 = _slicedToArray(_react$default$useSta, 2),\n      isOpen = _react$default$useSta2[0],\n      toggle = _react$default$useSta2[1];\n\n  var _ref2 = (0, _core.usePopover)(),\n      setPopover = _ref2.setPopover,\n      closePopover = _ref2.closePopover;\n\n  var closeMenu = function closeMenu() {\n    closePopover();\n    toggle(false);\n    onClose && onClose();\n  };\n\n  var openMenu = function openMenu() {\n    setPopover(_react[\"default\"].createElement(_View[\"default\"], newProps, children), {\n      triggerRef: triggerRef,\n      animationDuration: 200,\n      onClose: closeMenu,\n      parentComponentConfig: {\n        open: isOpen,\n        closeMenu: closeMenu,\n        closeOnSelect: closeOnSelect\n      }\n    });\n    toggle(true);\n    onOpen && onOpen();\n  };\n\n  return _react[\"default\"].createElement(_View[\"default\"], {\n    flex: 1,\n    ref: triggerRef\n  }, trigger({\n    onPress: openMenu\n  }, {\n    open: isOpen\n  }));\n};\n\nexports.Menu = Menu;","map":{"version":3,"sources":["Menu.tsx"],"names":["Menu","closeOnSelect","props","triggerRef","React","newProps","closePopover","closeMenu","toggle","onClose","openMenu","setPopover","animationDuration","parentComponentConfig","open","onOpen","trigger","onPress","isOpen"],"mappings":";;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,IAAA,KAAA,GAAA,sBAAA,CAAA,OAAA,yBAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,kBAAA;;AACA,IAAA,KAAA,GAAA,OAAA,iBAAA;;;;;;;;AAEO,IAAMA,IAAI,GAAG,SAAPA,IAAO,OAOF;AAAA,MAPG,OAOH,QAPG,OAOH;AAAA,gCALhBC,aAKgB;AAAA,MALhBA,aAKgB,mCAPG,IAOH;AAAA,MAPG,QAOH,QAPG,QAOH;AAAA,MAPG,MAOH,QAPG,MAOH;AAAA,MAPG,OAOH,QAPG,OAOH;AAAA,MADbC,KACa;;AAChB,MAAIC,UAAU,GAAGC,MAAAA,WAAAA,CAAjB,MAAiBA,EAAjB;;AACA,MAAMC,QAAQ,GAAG,CAAA,GAAA,MAAA,CAAA,cAAA,EAAA,MAAA,EAAjB,KAAiB,CAAjB;;AAFgB,8BAGOD,MAAAA,WAAAA,CAAAA,QAAAA,CAAvB,KAAuBA,CAHP;AAAA;AAAA,MAGZ,MAHY;AAAA,MAGZ,MAHY;;AAAA,cAIqB,CAAA,GAAA,KAAA,CAArC,UAAqC,GAJrB;AAAA,MAIV,UAJU,SAIV,UAJU;AAAA,MAIIE,YAJJ,SAIIA,YAJJ;;AAMhB,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBD,IAAAA,YAAY;AACZE,IAAAA,MAAM,CAANA,KAAM,CAANA;AACAC,IAAAA,OAAO,IAAIA,OAAXA,EAAAA;AAHF,GAAA;;AAKA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBC,IAAAA,UAAU,CAAC,MAAA,WAAA,CAAA,aAAA,CAAC,KAAD,WAAA,EAAA,QAAA,EAAD,QAAC,CAAD,EAAwC;AAChDR,MAAAA,UADgD,EAChDA,UADgD;AAEhDS,MAAAA,iBAAiB,EAF+B,GAAA;AAGhDH,MAAAA,OAAO,EAHyC,SAAA;AAIhDI,MAAAA,qBAAqB,EAAE;AAAEC,QAAAA,IAAI,EAAN,MAAA;AAAgBP,QAAAA,SAAhB,EAAgBA,SAAhB;AAA2BN,QAAAA,aAAAA,EAAAA;AAA3B;AAJyB,KAAxC,CAAVU;AAMAH,IAAAA,MAAM,CAANA,IAAM,CAANA;AACAO,IAAAA,MAAM,IAAIA,MAAVA,EAAAA;AARF,GAAA;;AAWA,SACE,MAAA,WAAA,CAAA,aAAA,CAAC,KAAD,WAAA,EAAA;AAAM,IAAA,IAAI,EAAV,CAAA;AAAe,IAAA,GAAG,EAAEZ;AAApB,GAAA,EACGa,OAAO,CACN;AACEC,IAAAA,OAAO,EAAEP;AADX,GADM,EAIN;AAAEI,IAAAA,IAAI,EAAEI;AAAR,GAJM,CADV,CADF;AA7BK,CAAA","sourcesContent":["import React from 'react';\nimport type { IMenuProps } from './props';\nimport View from '../../primitives/View';\nimport { usePropsConfig } from '../../../hooks';\nimport { usePopover } from '../../../core';\n\nexport const Menu = ({\n  trigger,\n  closeOnSelect = true,\n  children,\n  onOpen,\n  onClose,\n  ...props\n}: IMenuProps) => {\n  let triggerRef = React.useRef();\n  const newProps = usePropsConfig('Menu', props);\n  let [isOpen, toggle] = React.useState<boolean>(false);\n  const { setPopover, closePopover } = usePopover();\n\n  const closeMenu = () => {\n    closePopover();\n    toggle(false);\n    onClose && onClose();\n  };\n  const openMenu = () => {\n    setPopover(<View {...newProps}>{children}</View>, {\n      triggerRef,\n      animationDuration: 200,\n      onClose: closeMenu,\n      parentComponentConfig: { open: isOpen, closeMenu, closeOnSelect },\n    });\n    toggle(true);\n    onOpen && onOpen();\n  };\n\n  return (\n    <View flex={1} ref={triggerRef}>\n      {trigger(\n        {\n          onPress: openMenu,\n        },\n        { open: isOpen }\n      )}\n    </View>\n  );\n};\n"]},"metadata":{},"sourceType":"script"}