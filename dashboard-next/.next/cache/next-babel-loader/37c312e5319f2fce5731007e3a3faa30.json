{"ast":null,"code":"\"use strict\";var _regeneratorRuntime=require(\"@babel/runtime/regenerator\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports[\"default\"]=void 0;var _router=_interopRequireDefault(require(\"next/router\"));var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");var _default=function _default(_ref){var assetPrefix;return _regeneratorRuntime.async(function _default$(_context){while(1){switch(_context.prev=_context.next){case 0:assetPrefix=_ref.assetPrefix;_router[\"default\"].ready(function(){_router[\"default\"].events.on('routeChangeComplete',_onDemandEntriesUtils.setupPing.bind(void 0,assetPrefix,function(){return _router[\"default\"].pathname;}));});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,function(){return _router[\"default\"].pathname;},_onDemandEntriesUtils.currentPage);if(!process.env.__NEXT_TEST_MODE){document.addEventListener('visibilitychange',function(event){var state=document.visibilityState;if(state==='visible'){(0,_onDemandEntriesUtils.setupPing)(assetPrefix,function(){return _router[\"default\"].pathname;},true);}else{(0,_onDemandEntriesUtils.closePing)();}});window.addEventListener('beforeunload',function(){(0,_onDemandEntriesUtils.closePing)();});}case 4:case\"end\":return _context.stop();}}},null,null,null,Promise);};exports[\"default\"]=_default;","map":{"version":3,"sources":["/Users/vidhi/Sites/Projects/examples/test/dashboard-next/node_modules/next/dist/client/dev/on-demand-entries-client.js"],"names":["_interopRequireDefault","require","exports","__esModule","_router","_onDemandEntriesUtils","_default","_ref","assetPrefix","ready","events","on","setupPing","bind","pathname","currentPage","process","env","__NEXT_TEST_MODE","document","addEventListener","event","state","visibilityState","closePing","window"],"mappings":"AAAA,a,8DAAa,GAAIA,CAAAA,sBAAsB,CAACC,OAAO,CAAC,8CAAD,CAAlC,CAAmFC,OAAO,CAACC,UAAR,CAAmB,IAAnB,CAAwBD,OAAO,WAAP,CAAgB,IAAK,EAArB,CAAuB,GAAIE,CAAAA,OAAO,CAACJ,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAlC,CAA2D,GAAII,CAAAA,qBAAqB,CAACJ,OAAO,6BAAjC,CAA+D,GAAIK,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,CAAMC,IAAN,oIAAkBC,WAAlB,CAA+BD,IAA/B,CAAkBC,WAAlB,CAAoCJ,OAAO,WAAP,CAAgBK,KAAhB,CAAsB,UAAI,CAACL,OAAO,WAAP,CAAgBM,MAAhB,CAAuBC,EAAvB,CAA0B,qBAA1B,CAAgDN,qBAAqB,CAACO,SAAtB,CAAgCC,IAAhC,CAAqC,IAAK,EAA1C,CAA4CL,WAA5C,CAAwD,iBAAIJ,CAAAA,OAAO,WAAP,CAAgBU,QAApB,EAAxD,CAAhD,EAAwI,CAAnK,EAAqK,CAAC,EAAET,qBAAqB,CAACO,SAAzB,EAAoCJ,WAApC,CAAgD,iBAAIJ,CAAAA,OAAO,WAAP,CAAgBU,QAApB,EAAhD,CAA6ET,qBAAqB,CAACU,WAAnG,EAC/d,GAAG,CAACC,OAAO,CAACC,GAAR,CAAYC,gBAAhB,CAAiC,CAACC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAA6C,SAAAC,KAAK,CAAE,CAAC,GAAIC,CAAAA,KAAK,CAACH,QAAQ,CAACI,eAAnB,CAAmC,GAAGD,KAAK,GAAG,SAAX,CAAqB,CAAC,CAAC,EAAEjB,qBAAqB,CAACO,SAAzB,EAAoCJ,WAApC,CAAgD,iBAAIJ,CAAAA,OAAO,WAAP,CAAgBU,QAApB,EAAhD,CAA6E,IAA7E,EAAoF,CAA1G,IAA8G,CAAC,CAAC,EAAET,qBAAqB,CAACmB,SAAzB,IAAuC,CAAC,CAA/O,EAAiPC,MAAM,CAACL,gBAAP,CAAwB,cAAxB,CAAuC,UAAI,CAAC,CAAC,EAAEf,qBAAqB,CAACmB,SAAzB,IAAuC,CAAnF,EAAsF,CADnF,qEAAb,CACkGtB,OAAO,WAAP,CAAgBI,QAAhB","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _router=_interopRequireDefault(require(\"next/router\"));var _onDemandEntriesUtils=require(\"./on-demand-entries-utils\");var _default=async(_ref)=>{var{assetPrefix}=_ref;_router.default.ready(()=>{_router.default.events.on('routeChangeComplete',_onDemandEntriesUtils.setupPing.bind(void 0,assetPrefix,()=>_router.default.pathname));});(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,_onDemandEntriesUtils.currentPage);// prevent HMR connection from being closed when running tests\nif(!process.env.__NEXT_TEST_MODE){document.addEventListener('visibilitychange',event=>{var state=document.visibilityState;if(state==='visible'){(0,_onDemandEntriesUtils.setupPing)(assetPrefix,()=>_router.default.pathname,true);}else{(0,_onDemandEntriesUtils.closePing)();}});window.addEventListener('beforeunload',()=>{(0,_onDemandEntriesUtils.closePing)();});}};exports.default=_default;"]},"metadata":{},"sourceType":"script"}